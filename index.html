<!DOCTYPE html>
<html>
  <head>
    <title>Grok AI Chat</title>
    <link rel="stylesheet" href="templates/styles.css" />
    <meta charset="UTF-8" />
  </head>
  <body class="popup-wrapper">
    <!-- Header Section -->
    <div class="header">
      <h1>Grok Bot</h1>
      <button id="close-button" aria-label="Close">X</button>
    </div>
    <!-- Input Section -->
    <div class="input-section">
      <!-- Action Dropdown -->
      <div class="dropdown-container">
        <label for="action-dropdown">Select Action:</label>

        <select id="action-dropdown" aria-label="Select Action">
          <!-- Existing options -->
          <option value="chat">Chat</option>
          <option value="summarize">Summarize</option>
          <option value="draft-summary">Draft Summary</option>
          <option value="generate-bullet-points">Generate Bullet Points</option>

          <!-- New paralegal-related options -->
          <option value="legal-research">Legal Research</option>
          <option value="case-management">Case Management</option>
          <option value="document-preparation">Document Preparation</option>
          <option value="client-interaction">Client Interaction</option>
        </select>
      </div>
      <!-- Text Input -->
      <textarea
        id="user-prompt"
        placeholder="Type your message..."
        aria-label="User Prompt"
      ></textarea>

      <!-- Drag & Drop Area (Replaces Upload Button) -->
      <p>Drag & Drop files here or click to upload</p>
      <div
        class="drop-area"
        id="drop-area"
        tabindex="0"
        aria-label="File Upload Area"
      >
        <input
          type="file"
          id="summarize-file-upload"
          accept=".txt, .doc, .docx, .odt, .rtf, .pdf, .xls, .xlsx, .ods, .ppt, .pptx, .odp, .csv, .json, .xml, .jpg, .jpeg, .png, .tiff, .mp3, .mp4, .avi"
          class="hidden-input"
          aria-hidden="true"
        />
      </div>
      <!-- AI Response Section -->
      <div id="response">
        <div class="ai">
          <strong>AI Chatbot:</strong>
          <div class="formatted-response"></div>
        </div>
      </div>
      <!-- Existing Buttons -->
      <div class="button-container">
        <button id="send-prompt">Send</button>
        <button id="clear-history">Clear Chat</button>
      </div>
      <!-- Uploaded File Indicator -->
      <div id="upload-indicator" class="hidden" aria-live="polite">
        <span id="uploaded-filename"></span>
      </div>

      <!-- Clear File Button -->
      <div class="button-container">
        <button id="clear-file">Clear File</button>
      </div>
    </div>

    <!-- TTS Controls Section -->
    <div class="tts-toggle-container">
      <!-- Enable/Disable TTS -->
      <div class="toggle-row">
        <input
          type="checkbox"
          id="tts-toggle"
          aria-label="Enable Text-to-Speech"
        />
        <label for="tts-toggle">Enable TTS</label>
      </div>

      <!-- Play Last AI Response -->
      <div class="button-row">
        <button id="tts-play-button" disabled>Play Last</button>
        <button id="tts-stop-button" disabled>Stop</button>
      </div>

      <!-- Speed and Voice Selection -->
      <div class="settings-row">
        <label for="tts-voice-select">Voice:</label>
        <select id="tts-voice-select" aria-label="Select Voice">
          <option value="default">Default</option>
        </select>

        <label for="tts-speed-range">Speed:</label>
        <input
          type="range"
          id="tts-speed-range"
          min="0.5"
          max="2"
          step="0.1"
          value="1"
          aria-label="Set Speech Speed"
        />
      </div>

      <!-- Status Indicator -->
      <div id="tts-status" class="status-row" aria-live="polite">
        TTS Status: Disabled
      </div>
    </div>
    <!-- Filter Section -->
    <div class="filter-container">
      <label for="filter-dropdown">Filter Chat History:</label>
      <select id="filter-dropdown" aria-label="Filter Chat History">
        <option value="all">All</option>
        <option value="chat">Chat</option>
        <option value="document-preparation">Document Preparation</option>
        <option value="case-management">Case Management</option>
        <option value="legal-research">Legal Research</option>
        <option value="client-interaction">Client Interaction</option>
        <option value="summarize">Summarize</option>
        <option value="draft-summary">Draft Summary</option>
        <option value="generate-bullet-points">Generate Bullet Points</option>
      </select>
    </div>

    <!-- Download All Chats Button -->
    <button id="save-all-chats">Download All Chats</button>

    <!-- Script: Load Tesseract.js First -->

    <script type="module" src="templates/popup.js"></script>

    <!-- Firm Info Section -->
    <div id="firm-info"></div>

    <!-- Footer Section -->
    <footer>
      Built with ❤️ by
      <a href="https://studiovoice2fly.com/" target="_blank"
        >StudioVoice2fly.com</a
      >
    </footer>
  </body>
</html>
